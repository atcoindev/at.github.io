<!DOCTYPE html>
<html>
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>GroundRod PID main ver1</title>
    <meta name="viewport" content="width=device-width">
    <meta name="description" content="Anoncoin(ANC) is a unique decentralized peer to peer internet cryptocurrency that provides for its users. I2P and Tor compatible, it is resistant to crackdowns from hostile authorities.  ">
    <meta name="keywords" content="" /> 
    <link rel="canonical" href="https://anoncoin.net/GroundRod_PID_main_ver1/">
    <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml">

    <!-- Custom CSS & Bootstrap Core CSS - Uses Bootswatch Flatly Theme: http://bootswatch.com/flatly/ -->
    <link rel="stylesheet" href=" /style.css ">

    <!-- Custom Fonts -->
    <link rel="stylesheet" href=" /css/font-awesome/css/font-awesome.min.css ">
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
    <body id="page-top" class="index">
    <!-- Navigation -->
<nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-dropping">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Anoncoin</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <nav id="navbar-dropping" class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
                    
                <li class="dropdown ">
                    <a href="/About_Anoncoin/" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
                        aria-expanded="false">About
                        <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu">
                         
                        <li>
                            <a href="/About_Anoncoin/">About Anoncoin</a>
                        </li>
                          
                        <li>
                            <a href="/Anoncoin_in_the_news/">Anoncoin in the news</a>
                        </li>
                          
                        <li>
                            <a href="/Anoncoin_development_team/">Anoncoin development team</a>
                        </li>
                          
                        <li>
                            <a href="https://github.com/Anoncoin/project/tree/master/roadmap">Roadmap</a>
                        </li>
                          
                        <li>
                            <a href="/Donate/">Donate</a>
                        </li>
                         
                    </ul>
                </li>
                    
                <li class="dropdown ">
                    <a href="/Download/" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
                        aria-expanded="false">Downloads
                        <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu">
                         
                        <li>
                            <a href="/Download/#windowsdownload">Windows</a>
                        </li>
                          
                        <li>
                            <a href="/Download/#macdownload">Mac</a>
                        </li>
                          
                        <li>
                            <a href="/Download/#linuxdownload">Linux</a>
                        </li>
                         
                    </ul>
                </li>
                    
                <li class="dropdown ">
                    <a href="/Blog/" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
                        aria-expanded="false">Resources
                        <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu">
                         
                        <li>
                            <a href="/Blog/">Blog</a>
                        </li>
                          
                        <li>
                            <a href="/FAQ/">FAQ</a>
                        </li>
                          
                        <li>
                            <a href="/Wiki/">Wiki</a>
                        </li>
                          
                        <li>
                            <a href="/How_to_guides/">How to guides</a>
                        </li>
                         
                    </ul>
                </li>
                    
                <li class="dropdown ">
                    <a href="/Exchanges/" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
                        aria-expanded="false">Services
                        <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu">
                         
                        <li>
                            <a href="/Exchanges/">Exchanges</a>
                        </li>
                          
                        <li>
                            <a href="http://anoncash.net">Blockchain explorer</a>
                        </li>
                          
                        <li>
                            <a href="/Mining_pools/">Mining pools</a>
                        </li>
                          
                        <li role="separator" class="divider"></li>
                          
                        <li>
                            <a href="/Places_that_accept_Anoncoin/">Places that accept Anoncoin</a>
                        </li>
                         
                    </ul>
                </li>
                    
                <li class="dropdown ">
                    <a href="/Community/" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
                        aria-expanded="false">Community
                        <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu">
                         
                        <li>
                            <a href="https://join.slack.com/t/anoncoin/shared_invite/enQtMjcxMzUxMjk5ODYwLTU0OTJhNmIxNzYyY2JiMzUxOGZhMjYzNmQ3YmViNWM1OWIxZGNlMGY0Zjg1NzdhMDAyZmRiYTFhNTM1OWZiYTU">Slack</a>
                        </li>
                          
                        <li>
                            <a href="https://bitcointalk.org/index.php?topic=227287.0">Bitcointalk</a>
                        </li>
                          
                        <li>
                            <a href="https://www.reddit.com/r/Anoncoin/">Reddit</a>
                        </li>
                          
                        <li>
                            <a href="https://www.youtube.com/channel/UCwKSmUNcoRrBwm-kdsl1n2w">YouTube</a>
                        </li>
                          
                        <li>
                            <a href="https://twitter.com/anoncoinproject">Official Twitter</a>
                        </li>
                          
                        <li>
                            <a href="https://www.facebook.com/Anoncoin/">Facebook page</a>
                        </li>
                         
                    </ul>
                </li>
                 
            </ul>
        </nav>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container-fluid -->
</nav>
    <!-- About Section -->
<section class="article" id="about"></section>
<div class="container">
    <div class="row">
        <div class="col-lg-12 text-center">
            <h1>GroundRod PID main ver1</h1>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-12">
            <p>
    <font color="red"><i>
    This is an old archived article with out of date content.
    </i></font>
    <p>Here we show the result of 5000+ blocks mining after the hardfork on block 555555 using the GroundRod PID Retarget Difficulty Algo featured in the obsolete 0.9.6.11 version of Anoncoin.</p>

<p>EDIT2: those settings were changed in the 0.9.6.12 version of Anoncoin at block 585555 due to the not good retargeting of ver1. Result of 11000 blocks mined (585555-596555) on mainet after hardfork2 <a href="/GroundRod_PID_main_ver2/" title="wikilink">GroundRod_PID_main_ver2</a></p>

<hr />

<p>The PID settings used in mainet are the one from the 9.6.11 version after hardfork-block 555555.</p>

<p><code></code></p>

<ol>
  <li>define PID_PROPORTIONALGAIN “1.7”</li>
  <li>define PID_INTEGRATORTIME “172800”</li>
  <li>define PID_INTEGRATORGAIN “5”</li>
  <li>define PID_DERIVATIVEGAIN “0”</li>
  <li>define TIPFILTERBLOCKS_DEFAULT “21”</li>
  <li>define USESHEADER_DEFAULT false</li>
  <li>define NMAXDIFFINCREASE “200”</li>
  <li>define NMAXDIFFDECREASE “170”</li>
  <li>define DMININTEGRATOR 170</li>
  <li>define DMAXINTEGRATOR 190</li>
  <li>define WEIGHTEDAVGTIPBLOCKS_UP 4</li>
  <li>define WEIGHTEDAVGTIPBLOCKS_DOWN 6</li>
</ol>

<p>const int64_t nTargetSpacing = 180; &lt;/code&gt;</p>

<p>Here are the results so far…</p>

<p>It seems mining on mainet is characterized by about 10% constant hashrate and 90% multipool hashrate jumping on and off the chain. Mining quick blocks at low diff and increasing the diff until it is high enough for them to leave. The slowest block is then on hold for indefinite amount of time till the 10% constant hashrate find it, then the decrease of difficulty due to not having found a block for hours is accompanied by multipools jumping on the lower difficulty block, finding quickly many blocks while the difficulty drop and then increase to a high difficulty, which make multipools leave, repeating the cycle.</p>

<p>So in those very difficult mining conditions this is what we have so far at block 560555 using PID with the above settings.</p>

<ul>
  <li>Blocktime</li>
</ul>

<p>Blocktime is too slow with around 214.6 sec instead of 180 sec, we can see when no block was found for a long time with almost vertical section and many quick blocks with almost horizontal section. The oblique parts with flatter slope are mostly due to the integral term requesting quick blocks for long times, to try to reduce the increased time toward the target of 180 sec.</p>

<p><img src="/img/Blocktime.png" alt="Img" /></p>

<ul>
  <li>Average Blocktime</li>
</ul>

<p>This is a simple mean above all blocks since block 555149. Here we also see the avg blocktime tending to 210 sec.</p>

<p><img src="/img/Avg_blocktime.png" alt="Img" /></p>

<ul>
  <li>Integral term</li>
</ul>

<p>The integral term over 2 days (172800 sec) is almost always at the maximum which is equal to (190 - 180 = 10) * 5 + 180 = 230.</p>

<p><img src="/img/Intterm.png" alt="Img" /></p>

<ul>
  <li>PIDOut</li>
</ul>

<p>The PID output sum is characterized by periods of stability like from 1400-2000 or 3800-4400 interspersed with chaotic periods were the PIDOut achieve very high values. It is evident the higher percentage of constant mining in the stable period is enough to not have very long space without any found blocks like when the multipools alone are mining, leading to very high PIDOut due to no blocks for hours. We conclude there is some amount of constant mining relative to multipool mining which is needed to achieve stability. If nobody is mining or at a very low hashrate the high difficulty blocks then nothing can really help unless an automatically decreasing difficulty which is in fact possible with the PID (parameter useheader=1) but disabled on mainet due to lack of time consensus between peers and subsequent possible attack vector.</p>

<p><img src="/img/Pidout2.png" alt="Img" /></p>

<ul>
  <li>TipsAvg</li>
</ul>

<p>TipsAvg is looking quite OK but it hides information about very slow blocks followed by very quick blocks.</p>

<p><img src="/img/Tipsavg.png" alt="Img" /></p>

<ul>
  <li>Space</li>
</ul>

<p>Block spacing shows the very long blocks that anoncoin is subject to. This is no new to PID, very long blocks were also found with KGW due to the same multipools inconstant hashrate. The difference between KGW and PID is PID gives much less quick block than KGW which gave around 140 at a time.
<img src="/img/Space.png" alt="Img" /></p>

<ul>
  <li>Space zoom
<img src="/img/Spacezoom.png" alt="Img" /></li>
</ul>

<p>A zoom on the space chart shows the very quick blocks following the very long blocks. This is of course due to conjugated effect of decrease of difficulty by the PID to remove the impact of the long block and increased hashrate due to multipools jumping onto the chain to get the easy difficulty blocks.</p>

<ul>
  <li>Log of difficulty</li>
</ul>

<p>A logarithm of difficulty shows the extent of variation of difficulty between the slow difficult block and the quick easy blocks. We can see there is two order of magnitudes between those two extremes which is a lot. This is partly due to a too strong retargetting of the difficulty with these particular proportional gain, maximum diff increase and decrease and the too short periods of 4 and 6 blocks for both moving averages.
<img src="/img/Difficultylog.png" alt="Img" /></p>

<ul>
  <li>Difficulty chart</li>
</ul>

<p>The difficulty chart shows 400 blocks using the old Kimoto Gravity Well retarget algo followed by about 5000 blocks using the new GroundRod PID.</p>

<p>It is very well seen on this chart that sometimes there is only multipools mining with no constant hashrate (p.ex. 749-1378) and other times there is a constant hashrate stabilizing the fluctuation (p.ex. 1378-2092). The same conclusion can be done which is Anoncoin need some fraction of constant mining to have a well behaving chain, but miners have more incentive to mine on multipools so it is not easy to get this constant hashrate.
<img src="/img/Diff.png" alt="Img" /></p>

<p><strong>Conclusion</strong></p>

<p>The GroundRod Retarget PID was tuned for quick retargetting in case of high fluctuation of difficulty, but with the necessity to have at least ca one hundred blocks at each hashrate levels. Here the pattern of mining is more like mine 25 easy, let others mine one hard, mine 25 easy, let others mine one hard. Consequently I am in the process of tuning the parameters of the PID to have less aggressive variation of difficulty for then the ratio between easy and hard difficulty block will be less than one hundred as it is actually, limiting the impact of higher and lower difficulty and hopefully smoothing the block distribution. The community will be updated when I will be satisfied with the new parameters. CS</p>

    <p class="spacer"></p>
    </div>
</div>
</div>
</section>
<!-- Footer -->
<footer class="text-center">
    <div class="footer-above">
        <div class="container">
            <div class="row">
                <div class="footer-col col-md-4">
                    <h3>Contact</h3>
                    <p>
                         info@anoncoin.net
                        <br> 
                    </p>
                </div>
                <div class="footer-col col-md-4">
                    <h3>Around the Web</h3>
                    <ul class="list-inline">
                        
                        <li>
                            <a href="https://twitter.com/anoncoinproject" class="btn-social btn-outline">
                                <i class="fa fa-fw fa-twitter"></i>
                            </a>
                        </li>
                        
                        <li>
                            <a href="https://www.facebook.com/Anoncoin/" class="btn-social btn-outline">
                                <i class="fa fa-fw fa-facebook"></i>
                            </a>
                        </li>
                        
                        <li>
                            <a href="https://www.reddit.com/r/Anoncoin/" class="btn-social btn-outline">
                                <i class="fa fa-fw fa-reddit"></i>
                            </a>
                        </li>
                        
                        <li>
                            <a href="https://www.youtube.com/channel/UCwKSmUNcoRrBwm-kdsl1n2w" class="btn-social btn-outline">
                                <i class="fa fa-fw fa-youtube"></i>
                            </a>
                        </li>
                        
                        <li>
                            <a href="https://github.com/Anoncoin/anoncoin" class="btn-social btn-outline">
                                <i class="fa fa-fw fa-github"></i>
                            </a>
                        </li>
                        
                    </ul>
                </div>
                <div class="footer-col col-md-4">
                    <h3>Chat with us</h3>
                    <p>
                            <a href="https://join.slack.com/t/anoncoin/shared_invite/enQtMjcxMzUxMjk5ODYwLTU0OTJhNmIxNzYyY2JiMzUxOGZhMjYzNmQ3YmViNWM1OWIxZGNlMGY0Zjg1NzdhMDAyZmRiYTFhNTM1OWZiYTU
                            " class="btn btn-lg btn-outline">
                                <i class="fa fa-slack"></i> Join our Slack
                            </a>
                    </p>
                </div>
            </div>
        </div>
    </div>
    <div class="footer-below">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    Copyright &copy; Anoncoin 2018
                </div>
            </div>
        </div>
    </div>
</footer>

<!-- Scroll to Top Button (Only visible on small and extra-small screen sizes) -->
<div class="scroll-top page-scroll visible-xs visible-sm">
    <a class="btn btn-primary" href="#page-top">
        <i class="fa fa-chevron-up"></i>
    </a>
</div>

    <!-- jQuery Version 1.11.0 -->
<script src=" /js/jquery-1.11.0.js "></script>

<!-- Bootstrap Core JavaScript -->
<script src=" /js/bootstrap.min.js "></script>

<!-- Plugin JavaScript -->
<script src=" /js/jquery.easing.min.js "></script>
<script src=" /js/classie.js "></script>
<script src=" /js/cbpAnimatedHeader.js "></script>

<!-- Custom Theme JavaScript -->
<script src=" /js/freelancer.js "></script> 
    </body>
</html>